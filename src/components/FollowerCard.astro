---
import type { ProfileViewDetailed } from "@atproto/api/dist/client/types/app/bsky/actor/defs";
import clsx from "clsx";

interface Props {
  follower: ProfileViewDetailed;
  ratio: number;
}
const { follower, ratio } = Astro.props;
---

<div
  class={clsx("flex items-center p-4 gap-4", {
    "bg-red-500": ratio < 1,
  })}
>
  <img src={follower.avatar} class="max-w-[150px] aspect-square rounded-md" />
  <div class="flex flex-col">
    <div>
      {follower.displayName} ({follower.did})
    </div>
    <div>followers: {follower.followersCount}</div>
    <div>follows: {follower.followsCount}</div>
    <div>ratio: {ratio}</div>
    <div>mutuals: {follower.viewer?.following ? "yes" : "no"}</div>
    <div>{follower.description}</div>
    <div>
      <a href={`https://staging.bsky.app/profile/${follower.handle}`}>
        @{follower.handle}
      </a>
    </div>
  </div>
</div>
